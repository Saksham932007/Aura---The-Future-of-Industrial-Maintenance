<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aura - Industrial Maintenance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      body {
        font-family: "Inter", sans-serif;
      }

      .machine-card {
        transition: all 0.3s ease;
        border-left: 4px solid #e5e7eb;
      }

      .machine-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      .machine-card.healthy {
        border-left-color: #10b981;
      }

      .machine-card.warning {
        border-left-color: #f59e0b;
      }

      .machine-card.critical {
        border-left-color: #ef4444;
      }

      .machine-card.danger {
        border-left-color: #dc2626;
        animation: pulse-danger 2s infinite;
      }

      @keyframes pulse-danger {
        0%,
        100% {
          box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4);
        }
        50% {
          box-shadow: 0 0 0 10px rgba(220, 38, 38, 0);
        }
      }

      .health-score {
        background: conic-gradient(
          from 0deg,
          #10b981 0deg,
          #10b981 calc(var(--health) * 3.6deg),
          #e5e7eb calc(var(--health) * 3.6deg),
          #e5e7eb 360deg
        );
      }

      .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      .status-healthy {
        background-color: #10b981;
      }
      .status-warning {
        background-color: #f59e0b;
      }
      .status-critical {
        background-color: #ef4444;
      }
      .status-danger {
        background-color: #dc2626;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .chart-container {
        position: relative;
        height: 300px;
      }

      .alert-badge {
        animation: bounce 1s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        53%,
        80%,
        100% {
          transform: translate3d(0, 0, 0);
        }
        40%,
        43% {
          transform: translate3d(0, -10px, 0);
        }
        70% {
          transform: translate3d(0, -5px, 0);
        }
        90% {
          transform: translate3d(0, -2px, 0);
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-4">
          <div class="flex items-center space-x-4">
            <div class="flex items-center space-x-2">
              <div
                class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"
              >
                <i data-lucide="activity" class="w-5 h-5 text-white"></i>
              </div>
              <h1 class="text-2xl font-bold text-gray-900">Aura</h1>
            </div>
            <span class="text-sm text-gray-500"
              >Industrial Maintenance Dashboard</span
            >
          </div>

          <div class="flex items-center space-x-4">
            <div class="flex items-center space-x-2">
              <div class="status-indicator status-healthy"></div>
              <span class="text-sm text-gray-600">System Online</span>
            </div>
            <div class="text-sm text-gray-500" id="lastUpdate">
              Last updated: --
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- System Overview -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm font-medium text-gray-600">System Health</p>
              <p class="text-3xl font-bold text-gray-900" id="systemHealth">
                --
              </p>
            </div>
            <div
              class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"
            >
              <i data-lucide="heart" class="w-6 h-6 text-green-600"></i>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm font-medium text-gray-600">Active Machines</p>
              <p class="text-3xl font-bold text-gray-900" id="activeMachines">
                --
              </p>
            </div>
            <div
              class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"
            >
              <i data-lucide="cpu" class="w-6 h-6 text-blue-600"></i>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm font-medium text-gray-600">Active Alerts</p>
              <p class="text-3xl font-bold text-red-600" id="activeAlerts">
                --
              </p>
            </div>
            <div
              class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"
            >
              <i data-lucide="alert-triangle" class="w-6 h-6 text-red-600"></i>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm font-medium text-gray-600">Efficiency</p>
              <p class="text-3xl font-bold text-green-600" id="efficiency">
                --
              </p>
            </div>
            <div
              class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"
            >
              <i data-lucide="trending-up" class="w-6 h-6 text-purple-600"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Machine Cards Grid -->
      <div
        class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-8"
        id="machinesGrid"
      >
        <!-- Machine cards will be dynamically generated here -->
      </div>

      <!-- Detailed Machine View Modal -->
      <div
        id="machineModal"
        class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4"
      >
        <div
          class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-screen overflow-y-auto"
        >
          <div class="p-6 border-b border-gray-200">
            <div class="flex items-center justify-between">
              <h2
                class="text-2xl font-bold text-gray-900"
                id="modalMachineName"
              >
                Machine Details
              </h2>
              <button
                onclick="closeMachineModal()"
                class="p-2 hover:bg-gray-100 rounded-lg transition-colors"
              >
                <i data-lucide="x" class="w-6 h-6 text-gray-400"></i>
              </button>
            </div>
          </div>

          <div class="p-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- Real-time Charts -->
              <div class="space-y-6">
                <div class="bg-gray-50 rounded-lg p-4">
                  <h3 class="text-lg font-medium text-gray-900 mb-4">
                    Temperature Trend
                  </h3>
                  <div class="chart-container">
                    <canvas id="temperatureChart"></canvas>
                  </div>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                  <h3 class="text-lg font-medium text-gray-900 mb-4">
                    Vibration Analysis
                  </h3>
                  <div class="chart-container">
                    <canvas id="vibrationChart"></canvas>
                  </div>
                </div>
              </div>

              <!-- Machine Info and Alerts -->
              <div class="space-y-6">
                <div class="bg-gray-50 rounded-lg p-4">
                  <h3 class="text-lg font-medium text-gray-900 mb-4">
                    Current Status
                  </h3>
                  <div id="modalMachineInfo">
                    <!-- Machine info will be populated here -->
                  </div>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                  <h3 class="text-lg font-medium text-gray-900 mb-4">
                    Recent Alerts
                  </h3>
                  <div
                    id="modalRecentAlerts"
                    class="space-y-2 max-h-60 overflow-y-auto"
                  >
                    <!-- Recent alerts will be populated here -->
                  </div>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                  <h3 class="text-lg font-medium text-gray-900 mb-4">
                    Maintenance History
                  </h3>
                  <div
                    id="modalMaintenanceHistory"
                    class="space-y-2 max-h-40 overflow-y-auto"
                  >
                    <!-- Maintenance history will be populated here -->
                  </div>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                  <h3 class="text-lg font-medium text-gray-900 mb-4">
                    Maintenance Actions
                  </h3>
                  <div class="space-y-2">
                    <button
                      onclick="scheduleMaintenance()"
                      class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors"
                    >
                      Schedule Maintenance
                    </button>
                    <button
                      onclick="acknowledgeProblem()"
                      class="w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors"
                    >
                      Acknowledge Issues
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Global Alerts Panel -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 mb-8">
        <div class="p-6 border-b border-gray-200">
          <h2 class="text-xl font-bold text-gray-900">Recent Alerts</h2>
        </div>
        <div class="p-6">
          <div id="alertsList" class="space-y-3 max-h-60 overflow-y-auto">
            <!-- Alerts will be populated here -->
          </div>
        </div>
      </div>
    </main>

    <!-- Loading Overlay -->
    <div
      id="loadingOverlay"
      class="fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50"
    >
      <div class="text-center">
        <div
          class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"
        ></div>
        <p class="text-gray-600">Loading Aura Dashboard...</p>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      // Initialize Lucide icons
      lucide.createIcons();
    </script>
  </body>
</html>
